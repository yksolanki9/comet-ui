{"version":3,"file":"src_app_pages_note_note_module_ts.js","mappings":"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","sources":["./src/app/pages/note/date-input/date-input.component.ts","./src/app/pages/note/note-routing.module.ts","./src/app/pages/note/note.module.ts","./src/app/pages/note/note.page.ts","./src/app/pages/note/date-input/date-input.component.html","./src/app/pages/note/note.page.html"],"sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { PopoverController } from '@ionic/angular';\nimport { DatePipe } from '@angular/common';\n\n@Component({\n  selector: 'app-date-input',\n  templateUrl: './date-input.component.html',\n  styleUrls: ['./date-input.component.scss'],\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    multi: true,\n    useExisting: DateInputComponent,\n  }]\n})\nexport class DateInputComponent implements OnInit, ControlValueAccessor {\n\n  @Input() class: string;\n\n  @Input() value: string;\n\n  @Input() isEditMode: boolean;\n\n  maxDate: string;\n\n  constructor(\n    private popoverController: PopoverController,\n    private datePipe: DatePipe,\n  ) { }\n\n  onChange = (value: string) => {};\n\n  ngOnInit() {\n    this.maxDate = this.datePipe.transform(new Date(), 'yyyy-MM-dd');\n  }\n\n  writeValue(val: any): void {\n    this.value = val;\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n  }\n\n  dateSelected(event) {\n    this.value = event.target.value;\n    this.onChange(this.value);\n    this.popoverController.dismiss();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { DatePipe } from '@angular/common';\n\nimport { NotePage } from './note.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NotePage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n  providers: [DatePipe],\n})\nexport class NotePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NotePageRoutingModule } from './note-routing.module';\n\nimport { NotePage } from './note.page';\nimport { DateInputComponent } from './date-input/date-input.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    NotePageRoutingModule,\n    ReactiveFormsModule,\n  ],\n  declarations: [NotePage, DateInputComponent]\n})\nexport class NotePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Note } from 'src/app/core/models/note.model';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { environment } from 'src/environments/environment';\nimport { HttpClient } from '@angular/common/http';\nimport { noop } from 'rxjs';\n\n@Component({\n  selector: 'app-note',\n  templateUrl: './note.page.html',\n  styleUrls: ['./note.page.scss'],\n})\nexport class NotePage implements OnInit {\n  noteForm: FormGroup;\n\n  mode: 'ADD' | 'EDIT' | 'VIEW' = 'VIEW';\n\n  noteId: string;\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private http: HttpClient\n  ) {}\n\n  ngOnInit() {\n    this.noteId = this.activatedRoute.snapshot.params.id;\n\n    if (this.activatedRoute.snapshot.params.mode === 'add') {\n      this.mode = 'ADD';\n    }\n\n    this.noteForm = new FormGroup({\n      createdAt: new FormControl(new Date().toISOString()),\n      title: new FormControl(),\n      content: new FormControl(),\n    });\n\n    if (this.noteId) {\n      this.http\n        .get<Note>(`${environment.ROOT_URL}/api/v1/note/${this.noteId}`)\n        .subscribe((note) => {\n          this.noteForm.patchValue({\n            createdAt: note.createdAt\n              ? note.createdAt\n              : new Date().toISOString(),\n            title: note.title,\n            content: note.content,\n          });\n        });\n    }\n  }\n\n  onFabClicked() {\n    if (this.mode === 'ADD') {\n      this.http\n        .post(`${environment.ROOT_URL}/api/v1/note`, this.noteForm.value)\n        .subscribe(noop);\n      this.mode = 'VIEW';\n    } else if (this.mode === 'EDIT') {\n      this.http\n        .patch(\n          `${environment.ROOT_URL}/api/v1/note/${this.noteId}`,\n          this.noteForm.value\n        )\n        .subscribe(noop);\n      this.mode = 'VIEW';\n    } else {\n      this.mode = 'EDIT';\n    }\n  }\n}\n","export default \"<div class=\\\"date input-div\\\" id=\\\"date\\\"> \\n  <span> \\n    {{  value | date: 'd' }}\\n  </span>\\n  <span  class=\\\"date--sm\\\">\\n    {{  value | date: 'MMM y' }}\\n  </span>\\n</div>\\n<ion-popover *ngIf=\\\"isEditMode\\\" trigger=\\\"date\\\" size=\\\"cover\\\">\\n  <ng-template>\\n    <ion-datetime presentation=\\\"date\\\" (ionChange)=\\\"dateSelected($event)\\\" [max]=\\\"maxDate\\\"></ion-datetime>\\n  </ng-template>\\n</ion-popover>\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>note</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [ngClass]=\\\"{'bg-white': mode !== 'VIEW'}\\\">\\n  <form [formGroup]=\\\"noteForm\\\" class=\\\"note__content\\\">\\n    <app-date-input\\n      formControlName=\\\"createdAt\\\"\\n      class=\\\"note__date input-div\\\"\\n      [isEditMode]=\\\"mode !== 'VIEW'\\\"\\n    ></app-date-input>\\n    <ion-textarea\\n      autoGrow=\\\"true\\\"\\n      class=\\\"note__title input-div\\\"\\n      placeholder=\\\"Title\\\"\\n      formControlName=\\\"title\\\"\\n      [readonly]=\\\"mode === 'VIEW'\\\"\\n    ></ion-textarea>\\n    <ion-textarea\\n      autoGrow=\\\"true\\\"\\n      class=\\\"note__body input-div\\\"\\n      placeholder=\\\"Write more here...\\\"\\n      formControlName=\\\"content\\\"\\n      [readonly]=\\\"mode === 'VIEW'\\\"\\n    ></ion-textarea>\\n  </form>\\n  <ion-fab class=\\\"note__fab\\\" vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button (click)=\\\"onFabClicked()\\\">\\n      <ion-icon *ngIf=\\\"mode === 'VIEW'\\\" name=\\\"pencil\\\"></ion-icon>\\n      <ion-icon *ngIf=\\\"mode !== 'VIEW'\\\" name=\\\"save\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n</ion-content>\\n\";"],"names":[],"sourceRoot":"webpack:///"}